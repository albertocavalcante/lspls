Test basic interface generation with requests and notifications.

Flags: server, client

-- input.json --
{
  "metaData": {"version": "3.17.0"},
  "requests": [
    {
      "method": "textDocument/hover",
      "documentation": "Request to resolve a hover at a given text document position.",
      "messageDirection": "clientToServer",
      "params": {"kind": "reference", "name": "HoverParams"},
      "result": {"kind": "reference", "name": "Hover"}
    }
  ],
  "notifications": [
    {
      "method": "window/showMessage",
      "documentation": "The show message notification is sent from a server to a client.",
      "messageDirection": "serverToClient",
      "params": {"kind": "reference", "name": "ShowMessageParams"}
    }
  ],
  "structures": [
    {
      "name": "HoverParams",
      "documentation": "Parameters for the hover request.",
      "properties": [
        {
          "name": "position",
          "type": {"kind": "reference", "name": "Position"},
          "documentation": "The position inside the text document."
        }
      ]
    },
    {
      "name": "Hover",
      "documentation": "The result of a hover request.",
      "properties": [
        {
          "name": "contents",
          "type": {"kind": "base", "name": "string"},
          "documentation": "The hover's content."
        }
      ]
    },
    {
      "name": "ShowMessageParams",
      "documentation": "The parameters of a notification message.",
      "properties": [
        {
          "name": "message",
          "type": {"kind": "base", "name": "string"},
          "documentation": "The actual message."
        }
      ]
    },
    {
      "name": "Position",
      "documentation": "Position in a text document.",
      "properties": [
        {
          "name": "line",
          "type": {"kind": "base", "name": "uinteger"},
          "documentation": "Line position."
        }
      ]
    }
  ],
  "enumerations": [],
  "typeAliases": []
}

-- want/protocol.go --
// Code generated by lspls. DO NOT EDIT.
package protocol

import (
	"context"
	"encoding/json"
)

// The result of a hover request.
type Hover struct {
	// The hover's content.
	Contents string `json:"contents"`
}

// Parameters for the hover request.
type HoverParams struct {
	// The position inside the text document.
	Position Position `json:"position"`
}

// Position in a text document.
type Position struct {
	// Line position.
	Line uint32 `json:"line"`
}

// The parameters of a notification message.
type ShowMessageParams struct {
	// The actual message.
	Message string `json:"message"`
}

// LSP method names.
const (
	MethodTextDocumentHover = "textDocument/hover"
	MethodWindowShowMessage = "window/showMessage"
)

// Server defines the LSP server interface.
type Server interface {
	// Request to resolve a hover at a given text document position.
	TextDocumentHover(context.Context, *HoverParams) (*Hover, error)
}

// Client defines the LSP client interface.
type Client interface {
	// The show message notification is sent from a server to a client.
	WindowShowMessage(context.Context, *ShowMessageParams) error
}
