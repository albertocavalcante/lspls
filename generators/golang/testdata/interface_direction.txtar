Test interface generation with all direction values.
Methods with "both" direction appear in both Server and Client interfaces.

Flags: server, client

-- input.json --
{
  "metaData": {"version": "3.17.0"},
  "requests": [
    {
      "method": "initialize",
      "documentation": "The initialize request.",
      "messageDirection": "clientToServer",
      "params": {"kind": "reference", "name": "InitializeParams"},
      "result": {"kind": "reference", "name": "InitializeResult"}
    },
    {
      "method": "client/registerCapability",
      "documentation": "Sent from server to client to register capability.",
      "messageDirection": "serverToClient",
      "params": {"kind": "reference", "name": "RegistrationParams"},
      "result": {"kind": "base", "name": "null"}
    },
    {
      "method": "shutdown",
      "documentation": "A shutdown request.",
      "messageDirection": "both",
      "result": {"kind": "base", "name": "null"}
    }
  ],
  "notifications": [
    {
      "method": "initialized",
      "documentation": "The initialized notification.",
      "messageDirection": "clientToServer",
      "params": {"kind": "reference", "name": "InitializedParams"}
    },
    {
      "method": "window/logMessage",
      "documentation": "The log message notification.",
      "messageDirection": "serverToClient",
      "params": {"kind": "reference", "name": "LogMessageParams"}
    },
    {
      "method": "$/cancelRequest",
      "documentation": "Cancel a request.",
      "messageDirection": "both",
      "params": {"kind": "reference", "name": "CancelParams"}
    }
  ],
  "structures": [
    {"name": "InitializeParams", "properties": []},
    {"name": "InitializeResult", "properties": []},
    {"name": "RegistrationParams", "properties": []},
    {"name": "InitializedParams", "properties": []},
    {"name": "LogMessageParams", "properties": []},
    {"name": "CancelParams", "properties": []}
  ],
  "enumerations": [],
  "typeAliases": []
}

-- want/protocol.go --
// Code generated by lspls. DO NOT EDIT.
package protocol

import (
	"context"
	"encoding/json"
)

type CancelParams struct {
}

type InitializeParams struct {
}

type InitializeResult struct {
}

type InitializedParams struct {
}

type LogMessageParams struct {
}

type RegistrationParams struct {
}

// LSP method names.
const (
	MethodCancelRequest            = "$/cancelRequest"
	MethodClientRegisterCapability = "client/registerCapability"
	MethodInitialize               = "initialize"
	MethodInitialized              = "initialized"
	MethodShutdown                 = "shutdown"
	MethodWindowLogMessage         = "window/logMessage"
)

// Server defines the LSP server interface.
type Server interface {
	// Cancel a request.
	CancelRequest(context.Context, *CancelParams) error
	// The initialize request.
	Initialize(context.Context, *InitializeParams) (*InitializeResult, error)
	// The initialized notification.
	Initialized(context.Context, *InitializedParams) error
	// A shutdown request.
	Shutdown(context.Context) (*any, error)
}

// Client defines the LSP client interface.
type Client interface {
	// Cancel a request.
	CancelRequest(context.Context, *CancelParams) error
	// Sent from server to client to register capability.
	ClientRegisterCapability(context.Context, *RegistrationParams) (*any, error)
	// A shutdown request.
	Shutdown(context.Context) (*any, error)
	// The log message notification.
	WindowLogMessage(context.Context, *LogMessageParams) error
}
