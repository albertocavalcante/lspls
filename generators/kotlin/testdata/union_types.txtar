Test union type generation with sealed classes and kotlinx.serialization.

-- input.json --
{
  "metaData": {"version": "3.17.0"},
  "structures": [
    {
      "name": "TextEdit",
      "documentation": "A text edit.",
      "properties": [
        {
          "name": "newText",
          "type": {"kind": "base", "name": "string"},
          "documentation": "The new text."
        }
      ]
    },
    {
      "name": "AnnotatedTextEdit",
      "documentation": "An annotated text edit.",
      "properties": [
        {
          "name": "newText",
          "type": {"kind": "base", "name": "string"},
          "documentation": "The new text."
        },
        {
          "name": "annotationId",
          "type": {"kind": "base", "name": "string"},
          "documentation": "The annotation ID."
        }
      ]
    },
    {
      "name": "TextDocumentEdit",
      "documentation": "Describes textual changes on a text document.",
      "properties": [
        {
          "name": "edits",
          "type": {
            "kind": "array",
            "element": {
              "kind": "or",
              "items": [
                {"kind": "reference", "name": "TextEdit"},
                {"kind": "reference", "name": "AnnotatedTextEdit"}
              ]
            }
          },
          "documentation": "The edits to be applied."
        }
      ]
    }
  ],
  "enumerations": [],
  "typeAliases": []
}

-- want/Protocol.kt --
// Code generated by lspls. DO NOT EDIT.
package lsp.protocol

import kotlinx.serialization.DeserializationStrategy
import kotlinx.serialization.Serializable
import kotlinx.serialization.json.JsonContentPolymorphicSerializer
import kotlinx.serialization.json.JsonElement
import kotlinx.serialization.json.JsonObject

/**
 * An annotated text edit.
 */
@Serializable
data class AnnotatedTextEdit(
    // The new text.
    val newText: String,
    // The annotation ID.
    val annotationId: String
)

/**
 * Describes textual changes on a text document.
 */
@Serializable
data class TextDocumentEdit(
    // The edits to be applied.
    val edits: List<Or_AnnotatedTextEdit_TextEdit>
)

/**
 * A text edit.
 */
@Serializable
data class TextEdit(
    // The new text.
    val newText: String
)

/**
 * Union type: AnnotatedTextEdit | TextEdit
 */
@Serializable(with = Or_AnnotatedTextEdit_TextEditSerializer::class)
sealed class Or_AnnotatedTextEdit_TextEdit {
    @Serializable
    data class AnnotatedTextEditValue(val value: AnnotatedTextEdit) : Or_AnnotatedTextEdit_TextEdit()
    @Serializable
    data class TextEditValue(val value: TextEdit) : Or_AnnotatedTextEdit_TextEdit()
}

object Or_AnnotatedTextEdit_TextEditSerializer : JsonContentPolymorphicSerializer<Or_AnnotatedTextEdit_TextEdit>(Or_AnnotatedTextEdit_TextEdit::class) {
    override fun selectDeserializer(element: JsonElement): DeserializationStrategy<Or_AnnotatedTextEdit_TextEdit> {
        return Or_AnnotatedTextEdit_TextEdit.AnnotatedTextEditValue.serializer()
    }
}
