Test union type containing an array type (e.g., Location | List<Location>).

-- input.json --
{
  "metaData": {"version": "3.17.0"},
  "structures": [
    {
      "name": "Location",
      "properties": [
        {"name": "uri", "type": {"kind": "base", "name": "string"}}
      ]
    }
  ],
  "enumerations": [],
  "typeAliases": [
    {
      "name": "Declaration",
      "type": {
        "kind": "or",
        "items": [
          {"kind": "reference", "name": "Location"},
          {"kind": "array", "element": {"kind": "reference", "name": "Location"}}
        ]
      }
    }
  ]
}

-- want/Protocol.kt --
// Code generated by lspls. DO NOT EDIT.
package lsp.protocol

import kotlinx.serialization.DeserializationStrategy
import kotlinx.serialization.Serializable
import kotlinx.serialization.json.JsonArray
import kotlinx.serialization.json.JsonContentPolymorphicSerializer
import kotlinx.serialization.json.JsonElement
import kotlinx.serialization.json.JsonObject

typealias Declaration = Or_ArrLocation_Location

@Serializable
data class Location(
    val uri: String
)

/**
 * Union type: List<Location> | Location
 */
@Serializable(with = Or_ArrLocation_LocationSerializer::class)
sealed class Or_ArrLocation_Location {
    @Serializable
    data class ArrLocationValue(val value: List<Location>) : Or_ArrLocation_Location()
    @Serializable
    data class LocationValue(val value: Location) : Or_ArrLocation_Location()
}

object Or_ArrLocation_LocationSerializer : JsonContentPolymorphicSerializer<Or_ArrLocation_Location>(Or_ArrLocation_Location::class) {
    override fun selectDeserializer(element: JsonElement): DeserializationStrategy<Or_ArrLocation_Location> {
        return when (element) {
            is JsonArray -> Or_ArrLocation_Location.ArrLocationValue.serializer()
            is JsonObject -> Or_ArrLocation_Location.LocationValue.serializer()
            else -> Or_ArrLocation_Location.ArrLocationValue.serializer()
        }
    }
}
